{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _Pagination = _interopRequireDefault(require(\"./Pagination.style\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar PaginationDot = function (_PureComponent) {\n  (0, _inherits2.default)(PaginationDot, _PureComponent);\n\n  var _super = _createSuper(PaginationDot);\n\n  function PaginationDot(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, PaginationDot);\n    _this = _super.call(this, props);\n    _this.state = {\n      animColor: new _reactNative.Animated.Value(0),\n      animOpacity: new _reactNative.Animated.Value(0),\n      animTransform: new _reactNative.Animated.Value(0)\n    };\n    return _this;\n  }\n\n  (0, _createClass2.default)(PaginationDot, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.active) {\n        this._animate(1);\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (prevProps.active !== this.props.active) {\n        this._animate(this.props.active ? 1 : 0);\n      }\n    }\n  }, {\n    key: \"_animate\",\n    value: function _animate() {\n      var toValue = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var _this$state = this.state,\n          animColor = _this$state.animColor,\n          animOpacity = _this$state.animOpacity,\n          animTransform = _this$state.animTransform;\n      var _this$props = this.props,\n          animatedDuration = _this$props.animatedDuration,\n          animatedFriction = _this$props.animatedFriction,\n          animatedTension = _this$props.animatedTension;\n      var commonProperties = {\n        toValue: toValue,\n        isInteraction: false,\n        useNativeDriver: !this._shouldAnimateColor\n      };\n      var animations = [_reactNative.Animated.timing(animOpacity, _objectSpread({\n        easing: _reactNative.Easing.linear,\n        duration: animatedDuration\n      }, commonProperties)), _reactNative.Animated.spring(animTransform, _objectSpread({\n        friction: animatedFriction,\n        tension: animatedTension\n      }, commonProperties))];\n\n      if (this._shouldAnimateColor) {\n        animations.push(_reactNative.Animated.timing(animColor, _objectSpread({\n          easing: _reactNative.Easing.linear\n        }, commonProperties)));\n      }\n\n      _reactNative.Animated.parallel(animations).start();\n    }\n  }, {\n    key: \"_shouldAnimateColor\",\n    get: function get() {\n      var _this$props2 = this.props,\n          color = _this$props2.color,\n          inactiveColor = _this$props2.inactiveColor;\n      return color && inactiveColor;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state2 = this.state,\n          animColor = _this$state2.animColor,\n          animOpacity = _this$state2.animOpacity,\n          animTransform = _this$state2.animTransform;\n      var _this$props3 = this.props,\n          active = _this$props3.active,\n          activeOpacity = _this$props3.activeOpacity,\n          carouselRef = _this$props3.carouselRef,\n          color = _this$props3.color,\n          containerStyle = _this$props3.containerStyle,\n          inactiveColor = _this$props3.inactiveColor,\n          inactiveStyle = _this$props3.inactiveStyle,\n          inactiveOpacity = _this$props3.inactiveOpacity,\n          inactiveScale = _this$props3.inactiveScale,\n          index = _this$props3.index,\n          style = _this$props3.style,\n          tappable = _this$props3.tappable,\n          delayPressInDot = _this$props3.delayPressInDot;\n      var animatedStyle = {\n        opacity: animOpacity.interpolate({\n          inputRange: [0, 1],\n          outputRange: [inactiveOpacity, 1]\n        }),\n        transform: [{\n          scale: animTransform.interpolate({\n            inputRange: [0, 1],\n            outputRange: [inactiveScale, 1]\n          })\n        }]\n      };\n      var animatedColor = this._shouldAnimateColor && inactiveColor && color ? {\n        backgroundColor: animColor.interpolate({\n          inputRange: [0, 1],\n          outputRange: [inactiveColor, color]\n        })\n      } : {};\n      var dotContainerStyle = [_Pagination.default.sliderPaginationDotContainer, containerStyle || {}];\n      var dotStyle = [_Pagination.default.sliderPaginationDot, style || {}, !active && inactiveStyle || {}, animatedStyle, animatedColor];\n      var onPress = tappable && (!!index || index === 0) ? function () {\n        try {\n          var currentRef = carouselRef && 'current' in carouselRef ? carouselRef.current : carouselRef;\n\n          currentRef._snapToItem(currentRef._getPositionIndex(index));\n        } catch (error) {\n          console.warn('react-native-snap-carousel | Pagination: ' + '`carouselRef` has to be a Carousel ref.\\n' + error);\n        }\n      } : undefined;\n      return _react.default.createElement(_reactNative.TouchableOpacity, {\n        accessible: false,\n        style: dotContainerStyle,\n        activeOpacity: tappable ? activeOpacity : 1,\n        onPress: onPress,\n        delayPressIn: delayPressInDot\n      }, _react.default.createElement(_reactNative.Animated.View, {\n        style: dotStyle\n      }));\n    }\n  }]);\n  return PaginationDot;\n}(_react.PureComponent);\n\nexports.default = PaginationDot;","map":{"version":3,"mappings":"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","names":["PaginationDot","constructor","props","state","animColor","Animated","Value","animOpacity","animTransform","componentDidMount","active","_animate","componentDidUpdate","prevProps","toValue","animatedDuration","animatedFriction","animatedTension","commonProperties","isInteraction","useNativeDriver","_shouldAnimateColor","animations","timing","easing","Easing","linear","duration","spring","friction","tension","push","parallel","start","color","inactiveColor","render","activeOpacity","carouselRef","containerStyle","inactiveStyle","inactiveOpacity","inactiveScale","index","style","tappable","delayPressInDot","animatedStyle","opacity","interpolate","inputRange","outputRange","transform","scale","animatedColor","backgroundColor","dotContainerStyle","styles","sliderPaginationDotContainer","dotStyle","sliderPaginationDot","onPress","currentRef","current","_snapToItem","_getPositionIndex","error","console","warn","undefined","React","TouchableOpacity","accessible","delayPressIn","View","PureComponent"],"sources":["PaginationDot.tsx"],"sourcesContent":["import React, { PureComponent, RefObject } from 'react';\nimport {\n    Animated,\n    Easing,\n    TouchableOpacity,\n    StyleProp,\n    ViewStyle\n} from 'react-native';\nimport styles from './Pagination.style';\nimport type Carousel from 'src/carousel/Carousel';\n\ntype PaginationDotProps<TData> = {\n  inactiveOpacity: number;\n  inactiveScale: number;\n  active?: boolean;\n  activeOpacity?: number;\n  animatedDuration?: number;\n  animatedFriction?: number;\n  animatedTension?: number;\n  carouselRef?: Carousel<TData> | RefObject<Carousel<TData>> | null;\n  color?: string;\n  containerStyle?: StyleProp<ViewStyle>;\n  delayPressInDot?: number;\n  inactiveColor?: string;\n  inactiveStyle?: StyleProp<ViewStyle>;\n  index?: number;\n  style?: StyleProp<ViewStyle>;\n  tappable?: boolean;\n};\n\ntype PaginationDotState = {\n  animColor: Animated.Value;\n  animOpacity: Animated.Value;\n  animTransform: Animated.Value;\n};\n\nexport default class PaginationDot<TData> extends PureComponent<\n  PaginationDotProps<TData>,\n  PaginationDotState\n> {\n    constructor (props: PaginationDotProps<TData>) {\n        super(props);\n        this.state = {\n            animColor: new Animated.Value(0),\n            animOpacity: new Animated.Value(0),\n            animTransform: new Animated.Value(0)\n        };\n    }\n\n    componentDidMount () {\n        if (this.props.active) {\n            this._animate(1);\n        }\n    }\n\n    componentDidUpdate (prevProps: PaginationDotProps<TData>) {\n        if (prevProps.active !== this.props.active) {\n            this._animate(this.props.active ? 1 : 0);\n        }\n    }\n\n    _animate (toValue = 0) {\n        const { animColor, animOpacity, animTransform } = this.state;\n        const { animatedDuration, animatedFriction, animatedTension } = this.props;\n\n        const commonProperties = {\n            toValue,\n            isInteraction: false,\n            useNativeDriver: !this._shouldAnimateColor\n        };\n\n        const animations = [\n            Animated.timing(animOpacity, {\n                easing: Easing.linear,\n                duration: animatedDuration,\n                ...commonProperties\n            }),\n            Animated.spring(animTransform, {\n                friction: animatedFriction,\n                tension: animatedTension,\n                ...commonProperties\n            })\n        ];\n\n        if (this._shouldAnimateColor) {\n            animations.push(\n                Animated.timing(animColor, {\n                    easing: Easing.linear,\n                    ...commonProperties\n                })\n            );\n        }\n\n        Animated.parallel(animations).start();\n    }\n\n    get _shouldAnimateColor () {\n        const { color, inactiveColor } = this.props;\n        return color && inactiveColor;\n    }\n\n    render () {\n        const { animColor, animOpacity, animTransform } = this.state;\n        const {\n            active,\n            activeOpacity,\n            carouselRef,\n            color,\n            containerStyle,\n            inactiveColor,\n            inactiveStyle,\n            inactiveOpacity,\n            inactiveScale,\n            index,\n            style,\n            tappable,\n            delayPressInDot\n        } = this.props;\n\n        const animatedStyle = {\n            opacity: animOpacity.interpolate({\n                inputRange: [0, 1],\n                outputRange: [inactiveOpacity, 1]\n            }),\n            transform: [\n                {\n                    scale: animTransform.interpolate({\n                        inputRange: [0, 1],\n                        outputRange: [inactiveScale, 1]\n                    })\n                }\n            ]\n        };\n        const animatedColor =\n      this._shouldAnimateColor && inactiveColor && color ?\n          {\n              backgroundColor: animColor.interpolate({\n                  inputRange: [0, 1],\n                  outputRange: [inactiveColor, color]\n              })\n          } :\n          {};\n\n        const dotContainerStyle = [\n            styles.sliderPaginationDotContainer,\n            containerStyle || {}\n        ];\n\n        const dotStyle = [\n            styles.sliderPaginationDot,\n            style || {},\n            (!active && inactiveStyle) || {},\n            animatedStyle,\n            animatedColor\n        ];\n\n        const onPress =\n      tappable && (!!index || index === 0) ?\n          () => {\n              try {\n                  const currentRef =\n                carouselRef && 'current' in carouselRef ?\n                    carouselRef.current :\n                    carouselRef;\n              // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n              currentRef!._snapToItem(currentRef!._getPositionIndex(index));\n              } catch (error) {\n                  console.warn(\n                      'react-native-snap-carousel | Pagination: ' +\n                  '`carouselRef` has to be a Carousel ref.\\n' +\n                  error\n                  );\n              }\n          } :\n          undefined;\n\n        return (\n            <TouchableOpacity\n              accessible={false}\n              style={dotContainerStyle}\n              activeOpacity={tappable ? activeOpacity : 1}\n              onPress={onPress}\n              delayPressIn={delayPressInDot}\n            >\n                <Animated.View style={dotStyle} />\n            </TouchableOpacity>\n        );\n    }\n}\n"]},"metadata":{},"sourceType":"script"}